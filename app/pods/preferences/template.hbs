<h1 class = 'route-preferences-title'>
  {{t 'routes.settings.title'}}
</h1>{{! title }}



<div class='route-preferences-settingsGroup _baking'>

  <h2 class='route-preferences-settingsGroup-title'>
    System
  </h2>



  {{#settings-field
    fieldName   = 'maxTempBeforeTimer'
    label       = (t 'routes.settings.fields.maxTempBeforeTimer.label')
    description = (t 'routes.settings.fields.maxTempBeforeTimer.description')

    requestIsPending  = zen.state.settings.globalBakingConfigIsPending
    requestIsRejected = zen.state.settings.globalBakingConfigIsRejected

    errorLabel = (t
      'routes.settings.error'
      field='globalBakingConfig'
      error=(or zen.state.settings.globalBakingConfigError.error_text zen.state.settings.globalBakingConfigError)
    )
  }}
    {{one-way-input
      type   = 'number'
      value  = zen.state.preferences.maxTempBeforeTimerUserInput
      update = (action
        (dispatch-set)
        zen.state.preferences
        'maxTempBeforeTimerUserInput'
        'maxTempBeforeTimerUserInput'
      )
    }}

    <button
      {{action
        (dispatch-action)
        zen.state.settings
        'setGlobalBakingConfig'
        'maxTempBeforeTimer'
        zen.state.preferences.maxTempBeforeTimerUserInput
      }}
    >
      {{t 'domain.forms.update'}}
    </button>
  {{/settings-field}}{{! maxTempBeforeTimer }}



  {{#settings-field
    fieldName   = 'maxTempBeforeBaking'
    label       = (t 'routes.settings.fields.maxTempBeforeBaking.label')
    description = (t 'routes.settings.fields.maxTempBeforeBaking.description')

    requestIsPending  = zen.state.settings.globalBakingConfigIsPending
    requestIsRejected = zen.state.settings.globalBakingConfigIsRejected

    errorLabel = (t
      'routes.settings.error'
      field='globalBakingConfig'
      error=(or zen.state.settings.globalBakingConfigError.error_text zen.state.settings.globalBakingConfigError)
    )
  }}
    {{one-way-input
      type   = 'number'
      value  = zen.state.preferences.maxTempBeforeBakingUserInput
      update = (action
        (dispatch-set)
        zen.state.preferences
        'maxTempBeforeBakingUserInput'
        'maxTempBeforeBakingUserInput'
      )
    }}

    <button
      {{action
        (dispatch-action)
        zen.state.settings
        'setGlobalBakingConfig'
        'maxTempBeforeBaking'
        zen.state.preferences.maxTempBeforeBakingUserInput
      }}
    >
      {{t 'domain.forms.update'}}
    </button>
  {{/settings-field}}{{! maxTempBeforeBaking }}



  {{#settings-field
    fieldName   = 'maxTempAfterBaking'
    label       = (t 'routes.settings.fields.maxTempAfterBaking.label')
    description = (t 'routes.settings.fields.maxTempAfterBaking.description')

    requestIsPending  = zen.state.settings.globalBakingConfigIsPending
    requestIsRejected = zen.state.settings.globalBakingConfigIsRejected

    errorLabel = (t
      'routes.settings.error'
      field='globalBakingConfig'
      error=(or zen.state.settings.globalBakingConfigError.error_text zen.state.settings.globalBakingConfigError)
    )
  }}
    {{one-way-input
      type   = 'number'
      value  = zen.state.preferences.maxTempAfterBakingUserInput
      update = (action
        (dispatch-set)
        zen.state.preferences
        'maxTempAfterBakingUserInput'
        'maxTempAfterBakingUserInput'
      )
    }}

    <button
      {{action
        (dispatch-action)
        zen.state.settings
        'setGlobalBakingConfig'
        'maxTempAfterBaking'
        zen.state.preferences.maxTempAfterBakingUserInput
      }}
    >
      {{t 'domain.forms.update'}}
    </button>
  {{/settings-field}}{{! maxTempAfterBaking }}



  {{#settings-field
    fieldName   = 'maxTempDurationMins'
    label       = (t 'routes.settings.fields.maxTempDurationMins.label')
    description = (t 'routes.settings.fields.maxTempDurationMins.description')

    requestIsPending  = zen.state.settings.globalBakingConfigIsPending
    requestIsRejected = zen.state.settings.globalBakingConfigIsRejected

    errorLabel = (t
      'routes.settings.error'
      field='globalBakingConfig'
      error=(or zen.state.settings.globalBakingConfigError.error_text zen.state.settings.globalBakingConfigError)
    )
  }}
    {{one-way-input
      type   = 'number'
      value  = zen.state.preferences.maxTempDurationMinsUserInput
      update = (action
        (dispatch-set)
        zen.state.preferences
        'maxTempDurationMinsUserInput'
        'maxTempDurationMinsUserInput'
      )
    }}

    <button
      {{action
        (dispatch-action)
        zen.state.settings
        'setGlobalBakingConfig'
        'maxTempDurationMins'
        zen.state.preferences.maxTempDurationMinsUserInput
      }}
    >
      {{t 'domain.forms.update'}}
    </button>
  {{/settings-field}}{{! maxTempDurationMins }}

</div>{{! settingsGroup _baking }}



<div class='route-preferences-settingsGroup _system'>

  <h2 class='route-preferences-settingsGroup-title'>
    System
  </h2>

  {{#settings-field
    fieldName   = 'locale'
    label       = (t 'routes.settings.fields.locale.label')
    description = (t 'routes.settings.fields.locale.description')

    requestIsPending  = zen.state.settings.localeIsPending
    requestIsRejected = zen.state.settings.localeIsRejected

    errorLabel = (t
      'routes.settings.error'
      field='locale'
      error=(or zen.state.settings.localeError.error_text zen.state.settings.localeError)
    )
  }}
    {{#power-select
      class    = 'route-preferences-setting-field'
      tagName  = 'div'
      selected = zen.state.settings.localeResponse
      options  = intl.locales
      onchange = (action (dispatch-action) zen.state.settings 'setLocale')
      as |locale|
    }}
      {{t (concat 'domain.locale.' locale)}}
    {{/power-select}}
  {{/settings-field}}{{! locale }}



  {{#settings-field
    fieldName   = 'timezone'
    label       = (t 'routes.settings.fields.timezone.label')

    requestIsPending  = zen.state.settings.timezoneIsPending
    requestIsRejected = zen.state.settings.timezoneIsRejected

    errorLabel = (t
      'routes.settings.error'
      field='timezone'
      error=(or zen.state.settings.timezoneError.error_text zen.state.settings.timezoneError)
    )
  }}
    {{#power-select
      class    = 'route-preferences-setting-field'
      tagName  = 'div'
      selected = zen.state.settings.timezoneResponse
      options  = timezones
      onchange = (action (dispatch-action) zen.state.settings 'setTimezone')
      as |timezone|
    }}
      {{timezone}}
    {{/power-select}}
  {{/settings-field}}{{! timezone }}



  {{#settings-field
    fieldName   = 'password'
    label       = (t 'domain.login.password')

    requestIsPending  = zen.state.settings.passwordIsPending
    requestIsRejected = zen.state.settings.passwordIsRejected

    errorLabel = (t
      'routes.settings.error'
      field='password'
      error=(or zen.state.settings.passwordError.error_text zen.state.settings.passwordError)
    )
  }}
    <label class='route-preferences-setting-label'>
      {{t 'domain.login.old-password'}}
    </label>

    {{one-way-input
      type   = 'password'
      value  = zen.state.preferences.oldPasswordUserInput
      update = (action
        (dispatch-set)
        zen.state.preferences
        'old password user input'
        'oldPasswordUserInput'
      )
    }}

    <label class='route-preferences-setting-label'>
      {{t 'domain.login.new-password'}}
    </label>

    {{one-way-input
      type   = 'password'
      value  = zen.state.preferences.newPasswordUserInput
      update = (action
        (dispatch-set)
        zen.state.preferences
        'new password user input'
        'newPasswordUserInput'
      )
    }}

    <button
      {{action
        (dispatch-action)
        zen.state.settings
        'setPassword'
        zen.state.preferences.oldPasswordUserInput
        zen.state.preferences.newPasswordUserInput
      }}
    >
      {{t 'domain.forms.update'}}
    </button>
  {{/settings-field}}{{! password }}



</div>{{! settingsGroup _system }}

